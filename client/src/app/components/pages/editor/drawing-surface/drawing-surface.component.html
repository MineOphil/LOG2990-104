<svg #svg [attr.width]="width" [attr.height]="height">
  <rect id='background' [attr.fill]="color.hexString" [attr.width]="width" [attr.height]="height"></rect>
  <defs>
    <filter #stroke1 id="TEXTURE_1" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" />
    </filter>
    <filter #stroke2 id="TEXTURE_2" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="turbulence" baseFrequency="0.05" numOctaves="2" result="turbulence" />
      <feDisplacementMap in2="turbulence" in="SourceGraphic" scale="40" xChannelSelector="R" yChannelSelector="G" />
    </filter>
    <filter #stroke3 id="TEXTURE_3" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="turbulence" baseFrequency="0.05" numOctaves="2" result="turbulence" />
      <feDisplacementMap in2="turbulence" in="SourceGraphic" scale="10" xChannelSelector="R" yChannelSelector="G" />
    </filter>
    <filter #stroke4 id="TEXTURE_4" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="turbulence" baseFrequency="0.05" numOctaves="2" result="turbulence" />
      <feDisplacementMap in2="turbulence" in="SourceGraphic" scale="5" xChannelSelector="R" yChannelSelector="G" />
    </filter>
    <filter #stroke5 id="TEXTURE_5" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="turbulence" baseFrequency="0.05" numOctaves="2" result="turbulence" />
      <feDisplacementMap in2="turbulence" in="SourceGraphic" scale="100" xChannelSelector="R" yChannelSelector="G" />
    </filter>
  </defs>
</svg>
<svg id="svgGrid" [attr.width]="width" [attr.height]="height">
  <defs>
    <pattern id="smallGrid" [attr.width]="smallGrid" [attr.height]="smallGrid" patternUnits="userSpaceOnUse">
      <path [attr.d]="'M '+ smallGrid.toString()+' 0 L 0 0 0 '+smallGrid.toString()"
            fill="none" stroke="black" stroke-width="0.5" [attr.stroke-opacity]="gridOpacity.toString()"/>
    </pattern>
    <pattern id="largeGrid" [attr.width]="largeGrid" [attr.height]="largeGrid" patternUnits="userSpaceOnUse">
      <rect [attr.width]="largeGrid" [attr.height]="largeGrid" fill="url(#smallGrid)"/>
      <path [attr.d]="'M '+ largeGrid.toString()+' 0 L 0 0 0 '+largeGrid.toString()"
            fill="none" stroke="black" stroke-width="1" [attr.stroke-opacity]="gridOpacity.toString()"/>
    </pattern>
  </defs>
  <rect [attr.width]="width" [attr.height]="height" fill="url(#largeGrid)"></rect>
</svg>
