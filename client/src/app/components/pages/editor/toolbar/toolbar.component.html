<div id="toolbar-container">
  <div id="toolbar-top-buttons">
    <button mat-icon-button id="back-button" (click)="navigate('')">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <div class="toolbar-section-divider"></div>
    <button id="pen-button" mat-icon-button [ngClass]="{'selected-tool': currentTool === tools.Pen}"
            (click)="selectTool(tools.Pen)" (dblclick)="openPanel(tools.Pen)">
      <mat-icon>edit</mat-icon>
    </button>
    <button id="brush-button" mat-icon-button [ngClass]="{'selected-tool': currentTool === tools.Brush}"
            (click)="selectTool(tools.Brush)" (dblclick)="openPanel(tools.Brush)">
      <mat-icon>brush</mat-icon>
    </button>
    <button id="rectangle-button" mat-icon-button [ngClass]="{'selected-tool': currentTool === tools.Rectangle}"
            (click)="selectTool(tools.Rectangle)" (dblclick)="openPanel(tools.Rectangle)">
      <mat-icon>crop_square</mat-icon>
    </button>
    <button id="line-button" mat-icon-button [ngClass]="{'selected-tool': currentTool === tools.Line}"
            (click)="selectTool(tools.Line)" (dblclick)="openPanel(tools.Line)">
      <mat-icon>show_chart</mat-icon>
    </button>
  </div>
  <div id="toolbar-middle-buttons">
    <button id="swap-button" mat-icon-button (click)="selectedColors.swapColors()">
      <mat-icon>swap_horiz</mat-icon>
    </button>
    <div id="toolbar-primary-color" [style.background-color]="primaryColor.hexString"
      (click)="selectColor(SelectedColorType.primary)" [ngStyle]="{'z-index': 1}">
    </div>
    <div id="toolbar-secondary-color" [style.background-color]="secondaryColor.hexString"
      (click)="selectColor(SelectedColorType.secondary)" [ngStyle]="{'z-index':drawer.opened && selectedColor ? 2 : 0}">
    </div>
  </div>
  <div id="toolbar-bottom-buttons">
    <button id="help-button" mat-icon-button (click)="openModal()">
      <mat-icon>help</mat-icon>
    </button>
    <button mat-icon-button>
      <mat-icon>save</mat-icon>
    </button>
    <button mat-icon-button>
      <mat-icon>settings</mat-icon>
    </button>
  </div>
</div>
<mat-drawer-container>
  <mat-drawer #drawer mode="side">
    <mat-drawer-content [ngSwitch]="currentTool">
      <div *ngIf=!showColorPicker>
        <app-pen-toolbar *ngSwitchCase='tools.Pen' [toolProperties]='penProperties' class='toolbar-tool-section'></app-pen-toolbar>
        <app-brush-toolbar *ngSwitchCase='tools.Brush' [toolProperties]='brushProperties' class='toolbar-tool-section'>
        </app-brush-toolbar>
        <app-rectangle-toolbar *ngSwitchCase='tools.Rectangle' [toolProperties]='rectangleProperties'
                               class='toolbar-tool-section'>
        </app-rectangle-toolbar>
        <app-line-toolbar *ngSwitchCase=tools.Line [toolProperties]='lineProperties'
                          class='toolbar-tool-section'></app-line-toolbar>
      </div>
      <div *ngIf=showColorPicker [ngSwitch]="SelectedColorType" class="toolbar-tool-section">
        <h3 class="toolbar-option-section">Options du color picker</h3>
        <label *ngSwitchCase="SelectedColorType.primary">Couleur primaire</label>
        <label *ngSwitchCase="SelectedColorType.secondary">Couleur secondaire</label>
        <app-color-picker [showHistory]=true #colorPicker [color]="color" (colorChanged)="handleColorChanged($event)"
          (closed)='drawer.close()'></app-color-picker>
        <button id='btn-update-background' mat-flat-button (click)='updateBackground(colorPicker.color)'>Appliquer comme
          couleur de fond
        </button>
      </div>
    </mat-drawer-content>
  </mat-drawer>
</mat-drawer-container>
